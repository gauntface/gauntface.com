<!DOCTYPE html><html lang="en"><head>
  <title>New Site, New Approach</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="Description" content="This is the site description"/>
  <meta name="theme-color" content="#565797"/>
<style>p{word-wrap:break-word}</style><style>.l-default{display:flex;flex-direction:column;min-height:100%}.l-default__main{max-width:var(--page-max-width);margin:0 auto;flex:1;padding:var(--page-padding)}</style><style>.c-header{color:var(--platnum);padding:var(--header-padding) var(--page-padding);background:var(--dark-grey)}.c-header__logo svg{width:124px;height:124px;margin:auto}.c-header__logo svg path{fill:var(--white)}</style><style>code{padding:0 var(--inline-code-padding);border-radius:var(--inline-code-padding);font-family:var(--code-font-family);background:var(--dark-grey);color:var(--white)}</style><style>h1{font-weight:400;font-size:2rem}</style><style>h2{font-weight:400;font-size:1.7rem}</style><style>:root{--body-font-family:"Roboto",sans-serif;--code-font-family:"dm",monospace;--default-font-size:18px;--table-cell-padding:8px;--page-padding:24px;--header-padding:64px;--footer-padding:64px;--inline-code-padding:4px;--pre-padding:4px;--page-max-width:800px;--white:#f5f6fa;--dark-grey:#2f3640}html{height:100%;font-size:18px;font-size:var(--default-font-size)}</style><style>@import url("https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap");body{display:inline;min-height:100%;font-family:var(--body-font-family);background:var(--white);color:var(--dark-grey);margin:0}</style><style>img{max-width:100%;height:auto}</style><style>svg{display:block}</style><style>pre{overflow-x:auto}</style><style>pre{background-color:var(--dark-grey);padding:var(--pre-padding);border-radius:var(--pre-padding);overflow-x:auto;box-shadow:0 2px 8px var(--drop-shadow)}pre code{padding:0;background:unset}</style><style>a{color:inherit}</style><style>.c-footer{display:flex;flex-direction:row;justify-content:center}.c-footer__content{padding:var(--footer-padding)}.c-footer a{text-decoration:none}</style></head><body>
<div class="l-default">
  <header class="c-header">
  <a href="/" class="c-header__logo">
    <svg width="1024" height="1024" viewBox="0 0 1024 1024" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M988 36H36V987H988V36ZM0 0V1023H1024V0H0Z" fill="black"></path>
<path d="M834.787 519.358H767.661V590H746.567V430.039H845.664V447.397H767.661V502.109H834.787V519.358Z" fill="black"></path>
<path d="M574.089 447.397H522.673V590H501.689V447.397H450.383V430.039H574.089V447.397Z" fill="black"></path>
<path d="M834.984 821.062H765.661V877.751H846.19V895H744.567V735.039H845.092V752.397H765.661V803.813H834.984V821.062Z" fill="black"></path>
<path d="M575.23 844.243C573.253 861.162 566.991 874.236 556.444 883.464C545.97 892.62 532.018 897.197 514.586 897.197C495.689 897.197 480.528 890.422 469.103 876.873C457.75 863.323 452.074 845.195 452.074 822.49V807.109C452.074 792.241 454.71 779.167 459.984 767.888C465.331 756.609 472.875 747.966 482.616 741.96C492.357 735.881 503.636 732.842 516.454 732.842C533.446 732.842 547.069 737.603 557.323 747.124C567.577 756.572 573.546 769.683 575.23 786.455H554.027C552.196 773.711 548.204 764.482 542.052 758.77C535.973 753.057 527.44 750.2 516.454 750.2C502.977 750.2 492.394 755.181 484.703 765.142C477.086 775.103 473.277 789.275 473.277 807.659V823.149C473.277 840.508 476.903 854.314 484.154 864.568C491.405 874.822 501.549 879.949 514.586 879.949C526.305 879.949 535.277 877.312 541.502 872.039C547.801 866.692 551.976 857.427 554.027 844.243H575.23Z" fill="black"></path>
<path d="M266.397 853.252H199.38L184.329 895H162.576L223.66 735.039H242.117L303.311 895H281.668L266.397 853.252ZM205.752 835.894H260.135L232.889 761.077L205.752 835.894Z" fill="black"></path>
<path d="M294.004 590H272.8L192.271 466.733V590H171.067V430.039H192.271L273.02 553.855V430.039H294.004V590Z" fill="black"></path>
<path d="M848.177 122.039V230.804C848.104 245.892 843.343 258.233 833.895 267.828C824.52 277.422 811.775 282.806 795.662 283.978L790.059 284.197C772.554 284.197 758.602 279.473 748.201 270.025C737.801 260.577 732.527 247.576 732.381 231.023V122.039H753.255V230.364C753.255 241.937 756.441 250.945 762.813 257.391C769.185 263.763 778.267 266.949 790.059 266.949C801.998 266.949 811.116 263.763 817.415 257.391C823.787 251.019 826.973 242.046 826.973 230.474V122.039H848.177Z" fill="black"></path>
<path d="M545.897 240.252H478.88L463.829 282H442.076L503.16 122.039H521.617L582.811 282H561.168L545.897 240.252ZM485.252 222.894H539.635L512.389 148.077L485.252 222.894Z" fill="black"></path>
<path d="M292.17 261.016C286.75 268.78 279.169 274.603 269.428 278.484C259.76 282.293 248.481 284.197 235.59 284.197C222.553 284.197 210.981 281.158 200.874 275.079C190.766 268.926 182.929 260.21 177.363 248.931C171.87 237.652 169.05 224.578 168.903 209.71V195.757C168.903 171.661 174.506 152.984 185.712 139.727C196.992 126.47 212.812 119.842 233.173 119.842C249.873 119.842 263.312 124.126 273.493 132.696C283.674 141.192 289.899 153.277 292.17 168.951H271.076C267.121 147.784 254.523 137.2 233.283 137.2C219.147 137.2 208.417 142.181 201.093 152.142C193.842 162.029 190.18 176.385 190.107 195.208V208.282C190.107 226.226 194.208 240.508 202.412 251.128C210.615 261.675 221.711 266.949 235.7 266.949C243.61 266.949 250.532 266.07 256.464 264.312C262.397 262.554 267.304 259.588 271.186 255.413V219.488H234.162V202.349H292.17V261.016Z" fill="black"></path>
</svg>

  </a>
</header>
  <main class="l-default__main">
<p><img src="/images/blog/2014/05/24/main-headmast.jpg" alt="Key art for blog post “New Site, New Approach “"/></p>
<h1 id="new-site-new-approach">New Site, New Approach</h1>
<p><img src="/images/blog/2014/02/High-Res-Image.png" alt="Gaunt Face Home Page with Full-screen Image" title="605"/></p>
<p>I&#39;ve started working on a new version of my site and I&#39;m aiming to work on a range of problems / areas where my current site sucks.</p>
<h1 id="static-site">Static Site</h1>
<p>Originally the redesign was a static site, largely to see what I wanted the site to look like / how I the UX to behave.</p>
<p>After a long haul flight and a quick chat with <a href="%C2%A8http://aerotwist.com/%C2%A8">Paul Lewes</a>, I reached a point of diminishing returns, given my intention to move to a dynamic site, so this weekend I switched over to <a href="%C2%A8http://ellislab.com/codeigniter%C2%A8">Codeigniter</a>.</p>
<h1 id="components">Components</h1>
<p>I made the switch to <a href="%C2%A8http://ellislab.com/codeigniter%C2%A8">Codeigniter</a>, largely because I want to get off of using Wordpress, but want something a little more than a static site generator. (It&#39;s also an excuse to develop a server side application).</p>
<p>One of the main things which came up in the discussions with Mr Lewes, was that testing the performance of components was going to be troublesome, so I wanted a clean way to explore each ‘component’ of my site separately, to make it easier to test performance as well as responsiveness.</p>
<p>This isn&#39;t a new way of thinking, but it&#39;s the first time I&#39;ve gone out of my way to ensure such a high level of separation.</p>
<p><a href="http://beta.gauntface.co.uk/components/">beta.gauntface.co.uk/components/</a></p>
<p><img src="/images/blog/2014/02/Screenshot-from-2014-02-16-220819.png" alt="Image of Component List for Website"/></p>
<p>Each component still needs a lot of testing individually as well as being tested on a whole page, but the big benefit is in code maintainability, quality and separation. Only having a small feature set to implement for each component, really helps focus and tidy as you go (instead of jamming everything into a single js file, which I find all too easy to fall into).</p>
<h1 id="images">Images</h1>
<p>When I had enough component logic to implement my home page, I switched my attention to supporting some degree of responsive images.</p>
<p>My home page will hopefully have a full page image, the big challenge there is having a image big enough for all sizes, without requiring a huge download on all devices.</p>
<p><img src="/images/blog/2014/02/High-Res-Image.png" alt="Gaunt Face Home Page with Full-screen Image" title="605"/></p>
<p>The great thing with Codeigniter is that it has a image library already: <a href="%C2%A8http://ellislab.com/codeigniter/user-guide/libraries/image_lib.html%C2%A8">http://ellislab.com/codeigniter/user-guide/libraries/image_lib.html</a></p>
<p>I also came across one approach for dynamic image sizes by Jens Segers, using Codeigniters library: <a href="%C2%A8http://jenssegers.be/blog/31/codeigniter-resizing-and-cropping-images-on-the-fly%C2%A8">http://jenssegers.be/blog/31/codeigniter-resizing-and-cropping-images-on-the-fly</a></p>
<p>This code served heavily as the basis for my approach, the key differences are:</p>
<ol>
<li>I grouped up images into widths and heights of multiples of 50, stopping a pixel by pixel step.</li>
<li>The file-name is checked with regular expressions and the format is slightly different (Name_100x100). Also dropped any notion of grouping (wide, long, etc). You can make any request, the value will be rounded up to a multiple of 50, cached on the disk and returned.</li>
<li>The images are grouped into sub-directories on the server, with the original image remaining in the root directory. This is largely to help with maintenance, I can see a scenario where I need to wipe out all resizes for a certain image and this is slightly less error prone / more manageable approach (or at least I hope it will be).</li>
</ol>
<p><img src="/images/blog/2014/02/Screenshot-from-2014-02-16-211756.png" alt="Dynamic Image Creation - Nautilus Screenshot"/></p>
<h2 id="why-multiples-of-50">Why Multiples of 50?</h2>
<p>This is the first thing I&#39;m likely to experiment with, I chose 50px at random, it doesn&#39;t feel to scary to have images jumping up 50px at a time, but the performance gains will be greater for 10px or 20px for the relatively low cost of hosting.</p>
<h2 id="sass">Sass</h2>
<p>The first issue with this approach was how I was going to use it in the web page, this is where background-image came in, but if you think I&#39;m going to type out a load the media queries by hand, you have another thing coming.</p>
<p>Without further stalling, I present to you the world&#39;s most fugly <a href="%C2%A8http://sass-lang.com/%C2%A8">SASS</a> mixin.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sass" data-lang="sass"><span style="color:#66d9ef">@mixin</span><span style="color:#a6e22e"> responsive-image-height-based</span>($imageName<span style="color:#f92672">,</span> $imageExtension<span style="color:#f92672">,</span> $className<span style="color:#f92672">,</span> $mqHeights<span style="color:#f92672">,</span> $imgHeights<span style="color:#f92672">,</span> $pixelDensities) <span style="color:#960050;background-color:#1e0010">{</span>
  <span style="color:#f92672">@</span><span style="color:#f92672">each</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#f92672">density</span> <span style="color:#f92672">in</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#f92672">pixelDensities</span> <span style="color:#960050;background-color:#1e0010">{</span>
    <span style="color:#f92672">@</span><span style="color:#f92672">for</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#f92672">i</span> <span style="color:#f92672">from</span> <span style="color:#f92672">1</span> <span style="color:#f92672">through</span> <span style="color:#f92672">length</span><span style="color:#f92672">(</span><span style="color:#960050;background-color:#1e0010">$</span><span style="color:#f92672">mqHeights</span><span style="color:#f92672">)</span> <span style="color:#960050;background-color:#1e0010">{</span>
<span style="color:#a6e22e"></span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">$mqHeight</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">nth</span>($mqHeights<span style="color:#f92672">,</span> $i)<span style="color:#960050;background-color:#1e0010">;</span>
<span style="color:#a6e22e"></span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">$imgHeight</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">nth</span>($imgHeights<span style="color:#f92672">,</span> $i)<span style="color:#960050;background-color:#1e0010">;</span>

<span style="color:#a6e22e"></span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">$densityMediaQuery</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">&#39;</span><span style="color:#960050;background-color:#1e0010">;</span>
<span style="color:#a6e22e"></span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">@if</span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">$density</span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">!</span><span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span><span style="color:#66d9ef"></span> <span style="color:#960050;background-color:#1e0010">{</span>
<span style="color:#a6e22e"></span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">$densityMediaQuery</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">and (min-resolution: </span><span style="color:#e6db74">#{</span>$density<span style="color:#e6db74">}</span><span style="color:#e6db74">dppx)</span><span style="color:#e6db74">&#39;</span><span style="color:#960050;background-color:#1e0010">;</span>
      <span style="color:#960050;background-color:#1e0010">}</span>

<span style="color:#a6e22e"></span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">@media</span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">all</span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">#{$densityMediaQuery}</span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">and</span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">(min-device-height</span><span style="color:#f92672">:</span> ($mqHeight <span style="color:#f92672">*</span> <span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span>)) <span style="color:#960050;background-color:#1e0010">{</span>
        #<span style="color:#960050;background-color:#1e0010">{</span><span style="color:#960050;background-color:#1e0010">$</span><span style="color:#f92672">className</span><span style="color:#960050;background-color:#1e0010">}</span> <span style="color:#960050;background-color:#1e0010">{</span>
<span style="color:#a6e22e"></span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">background-image</span><span style="color:#f92672">:</span> <span style="color:#e6db74">url(</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">#{</span>$imageName<span style="color:#e6db74">}</span><span style="color:#e6db74">_</span><span style="color:#e6db74">#{</span>$imgHeight<span style="color:#e6db74">}</span><span style="color:#e6db74">x</span><span style="color:#e6db74">#{</span>$density<span style="color:#e6db74">}</span><span style="color:#e6db74">.</span><span style="color:#e6db74">#{</span>$imageExtension<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">)</span><span style="color:#960050;background-color:#1e0010">;</span>
        <span style="color:#960050;background-color:#1e0010">}</span>
      <span style="color:#960050;background-color:#1e0010">}</span>
    <span style="color:#960050;background-color:#1e0010">}</span>
  <span style="color:#960050;background-color:#1e0010">}</span>
<span style="color:#960050;background-color:#1e0010">}</span>

<span style="color:#66d9ef">@mixin</span><span style="color:#a6e22e"> responsive-image-width-based</span>($imageName<span style="color:#f92672">,</span> $imageExtension<span style="color:#f92672">,</span> $className<span style="color:#f92672">,</span> $mqWidths<span style="color:#f92672">,</span> $imgWidths<span style="color:#f92672">,</span> $pixelDensities) <span style="color:#960050;background-color:#1e0010">{</span>
  <span style="color:#f92672">@</span><span style="color:#f92672">each</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#f92672">density</span> <span style="color:#f92672">in</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#f92672">pixelDensities</span> <span style="color:#960050;background-color:#1e0010">{</span>
    <span style="color:#f92672">@</span><span style="color:#f92672">for</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#f92672">i</span> <span style="color:#f92672">from</span> <span style="color:#f92672">1</span> <span style="color:#f92672">through</span> <span style="color:#f92672">length</span><span style="color:#f92672">(</span><span style="color:#960050;background-color:#1e0010">$</span><span style="color:#f92672">mqWidths</span><span style="color:#f92672">)</span> <span style="color:#960050;background-color:#1e0010">{</span>
<span style="color:#a6e22e"></span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">$mqWidth</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">nth</span>($mqWidths<span style="color:#f92672">,</span> $i)<span style="color:#960050;background-color:#1e0010">;</span>
<span style="color:#a6e22e"></span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">$imgWidth</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">nth</span>($imgWidths<span style="color:#f92672">,</span> $i)<span style="color:#960050;background-color:#1e0010">;</span>

<span style="color:#a6e22e"></span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">$densityMediaQuery</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">&#39;</span><span style="color:#960050;background-color:#1e0010">;</span>
<span style="color:#a6e22e"></span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">@if</span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">$density</span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">!</span><span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span><span style="color:#66d9ef"></span> <span style="color:#960050;background-color:#1e0010">{</span>
<span style="color:#a6e22e"></span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">$densityMediaQuery</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">and (min-resolution: </span><span style="color:#e6db74">#{</span>$density<span style="color:#e6db74">}</span><span style="color:#e6db74">dppx)</span><span style="color:#e6db74">&#39;</span><span style="color:#960050;background-color:#1e0010">;</span>
      <span style="color:#960050;background-color:#1e0010">}</span>

<span style="color:#a6e22e"></span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">@media</span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">all</span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">#{$densityMediaQuery}</span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">and</span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">(min-device-width</span><span style="color:#f92672">:</span> ($mqWidth <span style="color:#f92672">*</span> <span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span>)) <span style="color:#960050;background-color:#1e0010">{</span>
        #<span style="color:#960050;background-color:#1e0010">{</span><span style="color:#960050;background-color:#1e0010">$</span><span style="color:#f92672">className</span><span style="color:#960050;background-color:#1e0010">}</span> <span style="color:#960050;background-color:#1e0010">{</span>
<span style="color:#a6e22e"></span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">background-image</span><span style="color:#f92672">:</span> <span style="color:#e6db74">url(</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">#{</span>$imageName<span style="color:#e6db74">}</span><span style="color:#e6db74">_</span><span style="color:#e6db74">#{</span>$imgWidth<span style="color:#e6db74">}</span><span style="color:#e6db74">x</span><span style="color:#e6db74">#{</span>$density<span style="color:#e6db74">}</span><span style="color:#e6db74">.</span><span style="color:#e6db74">#{</span>$imageExtension<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">)</span><span style="color:#960050;background-color:#1e0010">;</span>
        <span style="color:#960050;background-color:#1e0010">}</span>
      <span style="color:#960050;background-color:#1e0010">}</span>
    <span style="color:#960050;background-color:#1e0010">}</span>
  <span style="color:#960050;background-color:#1e0010">}</span>
<span style="color:#960050;background-color:#1e0010">}</span>
</code></pre></div><p>All in all this is a bit of a mess, I will give you that, but if you happen to be a SASS mixin guru and know of anyway to make this tidier, then please let me know (a.) It&#39;s my first attempt at writing a mixin b.) It&#39;s late on a Sunday, I can&#39;t be expected to produce anything of high quality).</p>
<p>What this is doing is, iterating over the values from start to end at certain intervals. For the first size, it creates a max-device-width media query, from that point onwards it creates a min-device-width media query, this means we have all the widths covered.</p>
<p><img src="/images/blog/2014/02/Screenshot-from-2014-02-16-211912.png" alt="Responsive Inspector Screenshot"/></p>
<p>The iterations are always increased for the image size rather than the min-device-width size, since a min-device-width of 400px, will include screen sizes 400+.</p>
<p>The densities are wrapping this for statement, essentially allowing us to serve images with sizes taking into account screen densities (i.e. 2x and 3x).</p>
<p>All of this means I can serve up images for the rough size of the device taking into account their device pixel ratio.</p>
<p>Happy Times.</p>
<p><img src="/images/blog/2014/02/Image-Res-Article.png" alt="Difference in Pixel Density" title="1024"/></p>
<h2 id="the-concerns">The Concerns</h2>
<ul>
<li>This example is currently just a square image, it doesn&#39;t account for width and height (or aspect ratio). I can find out the width or height through media queries on the client side, but these can only help so much. Part of me is thinking that if I can get an image which will work for both portrait and landscape, then it should only ever be downloaded once and essentially use this as a way of validating wider or taller images, where a proportion of the image will never be seen. The other aspect of this is that there is no notion of a dominant measure, width or height, as being the value to determine the size of the square image.</li>
<li>Image Compression: There is the ability to select the image quality when generating the image. I&#39;m aware of the technique of using highly compressed images as the density gets bigger, ultimately reducing file size, while maintaining a higher quality image. I could add logic to compress the image is it gets larger or alter the file-name to include a pixel density and then compress based off of that.</li>
<li>Auto-generated media queries like this lead to a lot of CSS, a negative point to reducing step size from 50px to 10px.</li>
<li>Should portrait and landscape be considered in the media query.</li>
</ul>
<h1 id="next-up">Next Up</h1>
<p>What do I intend to have a stab at next, I hear you ask….</p>
<ul>
<li>More perf / responsiveness testing on the components (as well as enhance / add to them).</li>
<li>Spend some time getting Grunt to play nice with JS and SASS linting, compilation and minification.</li>
<li>Start working on the blog section to try and get off of WordPress.</li>
<li>Get, Git push to deploy, up and running so I don&#39;t have to copy and paste the code over.</li>
</ul>
<p>p.s. Tip of the day, debug Codeigniter with <strong>log_message(‘error’, ‘Hello World’);</strong> and then just view the running log in a terminal with:</p>
<pre><code>tail -f /application/logs/your.log
</code></pre>

</main>
<footer class="c-footer">
  <div class="c-footer__content">
    <a href="://twiter.com/gauntface">Twitter</a> | <a href="://github.com/gauntface">GitHub</a> | <a href="://www.linkedin.com/in/mattgaunt/">LinkedIn</a>
  </div>
</footer>
</div>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-155219449-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-155219449-1');
</script>

<script>var haCSS = haCSS || []; haCSS.push(...['/css/elements/code-async.css']);</script></body></html>