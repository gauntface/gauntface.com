<!DOCTYPE html><html lang="en"><head>
  <title>DevTools Ideas</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="Description" content="This is the site description"/>
  <meta name="theme-color" content="#565797"/>
<style>svg{display:block}</style><style>img{max-width:100%;height:auto}</style><style>@import url("https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap");body{display:inline;min-height:100%;font-family:var(--body-font-family);background:var(--white);color:var(--dark-grey);margin:0}</style><style>h2{font-weight:400;font-size:1.7rem}</style><style>p{word-wrap:break-word}</style><style>.l-default{display:flex;flex-direction:column;min-height:100%}.l-default__main{max-width:var(--page-max-width);margin:0 auto;flex:1;padding:var(--page-padding)}</style><style>.c-header{color:var(--platnum);padding:var(--header-padding) var(--page-padding);background:var(--dark-grey)}.c-header__logo svg{width:124px;height:124px;margin:auto}.c-header__logo svg path{fill:var(--white)}</style><style>a{color:inherit}</style><style>:root{--body-font-family:"Roboto",sans-serif;--code-font-family:"dm",monospace;--default-font-size:18px;--table-cell-padding:8px;--page-padding:24px;--header-padding:64px;--footer-padding:64px;--inline-code-padding:4px;--pre-padding:4px;--page-max-width:800px;--white:#f5f6fa;--dark-grey:#2f3640}html{height:100%;font-size:18px;font-size:var(--default-font-size)}</style><style>.c-footer{display:flex;flex-direction:row;justify-content:center}.c-footer__content{padding:var(--footer-padding)}.c-footer a{text-decoration:none}</style><style>h1{font-weight:400;font-size:2rem}</style></head><body>
<div class="l-default">
  <header class="c-header">
  <a href="/" class="c-header__logo">
    <svg width="1024" height="1024" viewBox="0 0 1024 1024" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M988 36H36V987H988V36ZM0 0V1023H1024V0H0Z" fill="black"></path>
<path d="M834.787 519.358H767.661V590H746.567V430.039H845.664V447.397H767.661V502.109H834.787V519.358Z" fill="black"></path>
<path d="M574.089 447.397H522.673V590H501.689V447.397H450.383V430.039H574.089V447.397Z" fill="black"></path>
<path d="M834.984 821.062H765.661V877.751H846.19V895H744.567V735.039H845.092V752.397H765.661V803.813H834.984V821.062Z" fill="black"></path>
<path d="M575.23 844.243C573.253 861.162 566.991 874.236 556.444 883.464C545.97 892.62 532.018 897.197 514.586 897.197C495.689 897.197 480.528 890.422 469.103 876.873C457.75 863.323 452.074 845.195 452.074 822.49V807.109C452.074 792.241 454.71 779.167 459.984 767.888C465.331 756.609 472.875 747.966 482.616 741.96C492.357 735.881 503.636 732.842 516.454 732.842C533.446 732.842 547.069 737.603 557.323 747.124C567.577 756.572 573.546 769.683 575.23 786.455H554.027C552.196 773.711 548.204 764.482 542.052 758.77C535.973 753.057 527.44 750.2 516.454 750.2C502.977 750.2 492.394 755.181 484.703 765.142C477.086 775.103 473.277 789.275 473.277 807.659V823.149C473.277 840.508 476.903 854.314 484.154 864.568C491.405 874.822 501.549 879.949 514.586 879.949C526.305 879.949 535.277 877.312 541.502 872.039C547.801 866.692 551.976 857.427 554.027 844.243H575.23Z" fill="black"></path>
<path d="M266.397 853.252H199.38L184.329 895H162.576L223.66 735.039H242.117L303.311 895H281.668L266.397 853.252ZM205.752 835.894H260.135L232.889 761.077L205.752 835.894Z" fill="black"></path>
<path d="M294.004 590H272.8L192.271 466.733V590H171.067V430.039H192.271L273.02 553.855V430.039H294.004V590Z" fill="black"></path>
<path d="M848.177 122.039V230.804C848.104 245.892 843.343 258.233 833.895 267.828C824.52 277.422 811.775 282.806 795.662 283.978L790.059 284.197C772.554 284.197 758.602 279.473 748.201 270.025C737.801 260.577 732.527 247.576 732.381 231.023V122.039H753.255V230.364C753.255 241.937 756.441 250.945 762.813 257.391C769.185 263.763 778.267 266.949 790.059 266.949C801.998 266.949 811.116 263.763 817.415 257.391C823.787 251.019 826.973 242.046 826.973 230.474V122.039H848.177Z" fill="black"></path>
<path d="M545.897 240.252H478.88L463.829 282H442.076L503.16 122.039H521.617L582.811 282H561.168L545.897 240.252ZM485.252 222.894H539.635L512.389 148.077L485.252 222.894Z" fill="black"></path>
<path d="M292.17 261.016C286.75 268.78 279.169 274.603 269.428 278.484C259.76 282.293 248.481 284.197 235.59 284.197C222.553 284.197 210.981 281.158 200.874 275.079C190.766 268.926 182.929 260.21 177.363 248.931C171.87 237.652 169.05 224.578 168.903 209.71V195.757C168.903 171.661 174.506 152.984 185.712 139.727C196.992 126.47 212.812 119.842 233.173 119.842C249.873 119.842 263.312 124.126 273.493 132.696C283.674 141.192 289.899 153.277 292.17 168.951H271.076C267.121 147.784 254.523 137.2 233.283 137.2C219.147 137.2 208.417 142.181 201.093 152.142C193.842 162.029 190.18 176.385 190.107 195.208V208.282C190.107 226.226 194.208 240.508 202.412 251.128C210.615 261.675 221.711 266.949 235.7 266.949C243.61 266.949 250.532 266.07 256.464 264.312C262.397 262.554 267.304 259.588 271.186 255.413V219.488H234.162V202.349H292.17V261.016Z" fill="black"></path>
</svg>

  </a>
</header>
  <main class="l-default__main">
<p><img src="/images/blog/2014/12/10/bulb-idea.png" alt="Key art for blog post “DevTools Ideas “"/></p>
<h1 id="devtools-ideas">DevTools Ideas</h1>
<p>One of the biggest failings of service worker at the moment is the debugging story.</p>
<p>Its genuinely a shame since the API for service worker is simple enough to get going with, but complex enough to loop yourself in circles with simple errors and they&#39;d be easier to work with if the debugging story had been thought through.</p>
<h1 id="service-worker---aka-terminator">Service Worker - a.k.a Terminator</h1>
<p><img src="/images/blog/2014/12/10/tumblr-mv50ieuf7n1s3zvf8o1-500.gif" alt="Terminator Thumbs Up Gif"/></p>
<p>One of the major things you quickly learn about service worker is that it will come and go (or technically terminate and instantiate) as it needs to. Totally legit. The problem is that for debugging, DevTools does this:</p>
<p><img src="/images/blog/2014/12/10/devtools-dead.png" alt="Service Worker DevTools Dead" title="800"/></p>
<p>This actually prevents you from interacting with the DevTools window all together. For the most part this sucks when trying to trawl through console log messages trying to see what happens.</p>
<p>The other side of this, you can&#39;t set up your workspace, which with service worker becomes a bit of a pain - Chrome Window, DevTools for service worker, terminal for build process, text editor and chrome://serviceworker-internals/.</p>
<h1 id="ui-for-service-worker-inspection">UI for Service Worker Inspection</h1>
<p>In terms of how you get the service worker devtools to open, it&#39;s some what cumbersome, under chrome://inspect there is a tab for service worker, now this works - but really implements the bare minimum of features.</p>
<p><img src="/images/blog/2014/12/10/screen-shot-2014-12-10-at-9-45-59-am.png" alt="Chrome Inspect for DevTools" title="800"/></p>
<p>There is an unpredictability to that grinds my gears, I can occasionally see multiple service workers for the same page, without any discernible difference, i.e. they have the same pid (which I am assuming stands for Process ID) and there only seems to be one service worker in action according to chrome://serviceworker-internals/. I&#39;ve also seen that refreshing this page will add or drop server workers, so either the page is failing to get updates or its simply not updating.</p>
<h2 id="possible-features">Possible features</h2>
<p>Things which might make life a bit easier:</p>
<ul>
<li>Promote the URL in the title rather than “Worker pid:24104”. We know it&#39;s a worker because it&#39;s under the service workers tab and the pid gives us nothing more than internal info which we can&#39;t control. <a href="https://code.google.com/p/chromium/issues/detail?id=441176&amp;thanks=441176&amp;ts=1418288307">Bug</a>.</li>
<li>Add some notion of favoriting or adding a way to surface URL&#39;s I care about and suppress other sites. <a href="https://code.google.com/p/chromium/issues/detail?id=441177&amp;thanks=441177&amp;ts=1418288536">Bug</a>.</li>
<li>Include some notion of state in the list of service workers. This is something that you can see in chrome://serviceworker-internals/, but it&#39;s super unclear because of the range of other information it gives. <a href="https://code.google.com/p/chromium/issues/detail?id=441173&amp;thanks=441173&amp;ts=1418287959">Bug</a>.</li>
<li>Keep alive option. This would just help when you&#39;re debugging. I feel like there will likely need to be a reset each time you open chrome://inspect as I can imagine people getting to a point of “works for me” when relying on global state that breaks in the wild where the service worker comes and goes. <a href="https://code.google.com/p/chromium/issues/detail?id=441171&amp;thanks=441171&amp;ts=1418287623">Bug</a>.</li>
<li>One thing I&#39;ve not considered but worth mentioning - how to handle the history of service workers - i.e. should we be dropping old dead service workers from the UI or should they be made available? Are they useful?</li>
</ul>
<p><img src="/images/blog/2014/12/10/service-worker-devtools-panel-idea.png" alt="DevTools Service Worker Concept" title="800"/></p>
<h1 id="mobile-devices">Mobile Devices</h1>
<p>This is a minor gripe, but threw me right off at first. Mobile devices show up in chrome://inspect - coolio. A Mobile devices service worker will show up under the devices, but not under the service workers tab, this results in a weird scenario where your computer is the device, your devices are other and the two are in the same place but separate.</p>
<p>If you switch around the devices and tabs, you get into a situation where everything is discoverable for any device in the same place. <a href="https://code.google.com/p/chromium/issues/detail?id=438558">Bug</a>.</p>
<p><img src="/images/blog/2014/12/10/devtools-devices-mock.png" alt="DevTools Devices Mock" title="800"/></p>
<p>One thing to note: it may be worth pulling out the “Favorites” idea into pages, this way you can have favorites across all the Pages, Service Workers and Shared Workers tabs.</p>
<h1 id="service-workers-away-from-page-devtools">Service Workers Away from Page DevTools</h1>
<p>The last thing that would improve debugging service workers would be to pull their debugging into the page it relates to. Ideally, viewing DevTools for a specific page, should give me access to all the tools I need for working with that page, including service workers.</p>
<p>I&#39;m glad that it&#39;s separate for now since the DevTools panel is getting difficult to manage without adding more, but I hope the end goal of the DevTools team will be to simplify things in DevTools and bring everything together.</p>
<p>Ranting and mocks fin.</p>
<p><a href="https://flic.kr/p/AYxe2">Orig Photo: https://flic.kr/p/AYxe2</a></p>

</main>
<footer class="c-footer">
  <div class="c-footer__content">
    <a href="://twiter.com/gauntface">Twitter</a> | <a href="://github.com/gauntface">GitHub</a> | <a href="://www.linkedin.com/in/mattgaunt/">LinkedIn</a>
  </div>
</footer>
</div>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-155219449-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-155219449-1');
</script>

</body></html>