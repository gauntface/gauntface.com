<!DOCTYPE html><html lang="en"><head>
  <title>Where-To-Do : Android (Part 1)</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="Description" content="This is the site description"/>
  <meta name="theme-color" content="#565797"/>
<style>@import url("https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap");body{display:inline;min-height:100%;font-family:var(--body-font-family);background:var(--platnum);margin:0}</style><style>.l-default{display:flex;flex-direction:column;min-height:100%}.l-default__main{flex:1;padding:var(--page-padding)}</style><style>img{max-width:100%;height:auto}</style><style>.c-footer{display:flex;flex-direction:row}.c-footer__corner{flex:1}.c-footer__corner svg{display:block;width:80%;height:100%;margin-left:auto}.c-footer__content{flex:2;margin-left:auto;background:var(--liberty)}@media (min-width:1000px){.c-footer{width:80%;margin-left:auto}}</style><style>:root{--body-font-family:"Roboto",sans-serif;--code-font-family:"dm",monospace;--default-font-size:18px;--table-cell-padding:8px;--page-padding:24px;--header-padding:64px;--white-smoke:#f7f7f7;--platnum:#e5dedf;--dust-storm:#e5c9cf;--pale-chestnut:#e5a9b4;--liberty:#565797;--dark-slate-blue:#434596;--lightest:#d0d0d0;--light:#bfc7d4;--muted-light:#747a88;--muted:#434757;--dark:#292d3d;--black:#272729;--drop-shadow:rgba(39,39,41,0.4);--red:#ee727a;--green:#c4e791;--yellow:#feca72;--blue:#84acfc;--purple:#c694e8;--light-blue:#8cddfd}html{height:100%;font-size:18px;font-size:var(--default-font-size)}</style><style>svg{display:block}</style><style>.c-header{color:var(--platnum);padding:var(--header-padding) var(--page-padding);background:var(--liberty)}.c-header__logo svg{width:124px;height:124px;margin:auto}.c-header__logo svg path{fill:var(--platnum)}</style><style>h1{font-size:2rem}</style><style>p{word-wrap:break-word}</style></head><body>
<div class="l-default">
  <header class="c-header">
  <a href="/" class="c-header__logo">
    <svg width="1024" height="1024" viewBox="0 0 1024 1024" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M988 36H36V987H988V36ZM0 0V1023H1024V0H0Z" fill="black"></path>
<path d="M834.787 519.358H767.661V590H746.567V430.039H845.664V447.397H767.661V502.109H834.787V519.358Z" fill="black"></path>
<path d="M574.089 447.397H522.673V590H501.689V447.397H450.383V430.039H574.089V447.397Z" fill="black"></path>
<path d="M834.984 821.062H765.661V877.751H846.19V895H744.567V735.039H845.092V752.397H765.661V803.813H834.984V821.062Z" fill="black"></path>
<path d="M575.23 844.243C573.253 861.162 566.991 874.236 556.444 883.464C545.97 892.62 532.018 897.197 514.586 897.197C495.689 897.197 480.528 890.422 469.103 876.873C457.75 863.323 452.074 845.195 452.074 822.49V807.109C452.074 792.241 454.71 779.167 459.984 767.888C465.331 756.609 472.875 747.966 482.616 741.96C492.357 735.881 503.636 732.842 516.454 732.842C533.446 732.842 547.069 737.603 557.323 747.124C567.577 756.572 573.546 769.683 575.23 786.455H554.027C552.196 773.711 548.204 764.482 542.052 758.77C535.973 753.057 527.44 750.2 516.454 750.2C502.977 750.2 492.394 755.181 484.703 765.142C477.086 775.103 473.277 789.275 473.277 807.659V823.149C473.277 840.508 476.903 854.314 484.154 864.568C491.405 874.822 501.549 879.949 514.586 879.949C526.305 879.949 535.277 877.312 541.502 872.039C547.801 866.692 551.976 857.427 554.027 844.243H575.23Z" fill="black"></path>
<path d="M266.397 853.252H199.38L184.329 895H162.576L223.66 735.039H242.117L303.311 895H281.668L266.397 853.252ZM205.752 835.894H260.135L232.889 761.077L205.752 835.894Z" fill="black"></path>
<path d="M294.004 590H272.8L192.271 466.733V590H171.067V430.039H192.271L273.02 553.855V430.039H294.004V590Z" fill="black"></path>
<path d="M848.177 122.039V230.804C848.104 245.892 843.343 258.233 833.895 267.828C824.52 277.422 811.775 282.806 795.662 283.978L790.059 284.197C772.554 284.197 758.602 279.473 748.201 270.025C737.801 260.577 732.527 247.576 732.381 231.023V122.039H753.255V230.364C753.255 241.937 756.441 250.945 762.813 257.391C769.185 263.763 778.267 266.949 790.059 266.949C801.998 266.949 811.116 263.763 817.415 257.391C823.787 251.019 826.973 242.046 826.973 230.474V122.039H848.177Z" fill="black"></path>
<path d="M545.897 240.252H478.88L463.829 282H442.076L503.16 122.039H521.617L582.811 282H561.168L545.897 240.252ZM485.252 222.894H539.635L512.389 148.077L485.252 222.894Z" fill="black"></path>
<path d="M292.17 261.016C286.75 268.78 279.169 274.603 269.428 278.484C259.76 282.293 248.481 284.197 235.59 284.197C222.553 284.197 210.981 281.158 200.874 275.079C190.766 268.926 182.929 260.21 177.363 248.931C171.87 237.652 169.05 224.578 168.903 209.71V195.757C168.903 171.661 174.506 152.984 185.712 139.727C196.992 126.47 212.812 119.842 233.173 119.842C249.873 119.842 263.312 124.126 273.493 132.696C283.674 141.192 289.899 153.277 292.17 168.951H271.076C267.121 147.784 254.523 137.2 233.283 137.2C219.147 137.2 208.417 142.181 201.093 152.142C193.842 162.029 190.18 176.385 190.107 195.208V208.282C190.107 226.226 194.208 240.508 202.412 251.128C210.615 261.675 221.711 266.949 235.7 266.949C243.61 266.949 250.532 266.07 256.464 264.312C262.397 262.554 267.304 259.588 271.186 255.413V219.488H234.162V202.349H292.17V261.016Z" fill="black"></path>
</svg>

  </a>
</header>
  <main class="l-default__main">
<p><img src="/images/blog/2014/06/30/1043379069-45dc19005c-o.jpg" alt="Key art for blog post “Where-To-Do : Android (Part 1) “"/></p>
<h1 id="where-to-do--android-part-1">Where-To-Do : Android (Part 1)</h1>
<p>I&#39;ve been meaning to do an Android project for quite some time, but because of Uni work and exams I haven&#39;t had the time, but since break I figured I could make a start on a project. I also remember how hard I found it to make my own app when I first started using Android, so here it is for anyone interested, I start to finish app covering the EVERY part of app development. The app I&#39;m going to make is nothing too exciting, it&#39;s just a simple to-do list that will let you sort the to-do&#39;s in different orders and select a view, all the to-do&#39;s or view to-do&#39;s in groups of weeks or days.</p>
<p>I was tempted to do a screencast but decided not to because I don&#39;t think it would offer any real advantage to explaining through text and images, but if you&#39;d like the rest of series to be a screencast I&#39;d be happy to give it a shot.</p>
<p>DISCLAIMER: Most of the techniques I use are from what I&#39;ve gathered from the internet, books and may not be the best approach, so remember “Do as I say, not as I do” and we&#39;ll be all ok.</p>
<p>In my mind their are 2 sides to any program, the GUI and the back-end. The more these 2 things can be kept apart the better, that way what we change on either side, hopefully, won&#39;t affect the other side. So considering this is the first part of this set of tutorials I figured I start of with some friendly GUI stuff to get you all thinking just about what you may want your app to look like and realise you aren&#39;t stuck to the Android default UI.</p>
<p>For this part of the series I&#39;m going to show you all how to make a custom button, and this will show you:</p>
<ul>
<li>What to consider when creating simple interfaces</li>
<li>Illustrate how 9-Patch PNG&#39;s work</li>
<li>How to create custom buttons</li>
</ul>
<p>So I played around in GIMP (An open source version of Photoshop) to mock up roughly what I want my app to look like and this is what I came up with.</p>
<p><img src="/images/blog/2009/08/Where-To-Do-Android-MockUp.png" alt="Where-To-Do Android Mock-Up"/></p>
<p>Nothing to exciting but looks OK and is a bit of a change to the Android default look/feel. Now I&#39;m pretty sure there will be changes as this project goes on, but for now I think we are good to move ahead.</p>
<p>One thing I learnt from speaking to people heavily involved in Android development, is that you should always do your best to include the default UI (User-Interface) features. So a simple example of this is, by default when you add a number of buttons to a layout, and press buttons on the D-Pad of the emulator, the buttons will highlight orange for which one your on.</p>
<p>So we need to consider how to display this information. So attempt 2 of the buttons on the screen:</p>
<p><img src="/images/blog/2009/08/Where-To-Do-Android-Mock-Up-2.png" alt="Where-To-Do Android Mock-Up Focus + Button Selected"/></p>
<p>Now the new version has a number of things changed on the buttons, firstly the white blurred background behind the buttons represent where the focus is on the screen. I&#39;m not sure how clear the white blur is but I can change it later on. You&#39;ll also notice the ‘All’ and ‘Sort’ buttons are a deeper yellow colour. This is to represent 2 different things, firstly in the example of the ‘All’, ‘Week’ and ‘Day’ buttons, I want these to display which button is currently selected. In this instance the ‘All’ button is pressed (Show all To-Do&#39;s). For the ‘Sort’ button this is something that you probably haven&#39;t thought of, but when you press a button on a touch screen, they tend to change colour or move slightly, this is to give you some visual feedback that the click has been acknowledged. Now as silly as this sounds, it feels really wrong if there is no feedback on a button press. If you don&#39;t believe me, build this app without the changing image, put it on a physical Android device and try it. You&#39;ll be begging for it after one click.</p>
<p>So we have all of this stuff, now I need to make my buttons so I can add them into my Android Project. I could use this image to cut out the buttons with the text on them, but what if I later decide to change the text? So thats no good. Ok cut up the images but leave the text out, this means though I&#39;m now tied down to that particular size button, if the text is too long it&#39;ll go outside the app. Nope no good, this is where the simplicity of 9-patch PNG&#39;s comes to save the day.</p>
<p>Now to explain why I&#39;m cutting up the images the way I do, I need to explain how 9-patch PNG&#39;s work, but to explain that, it would be easiest to just give you an example. So here&#39;s the images cut up to be changed to 9-patch PNG&#39;s and then you&#39;ll work out why the images are cut up as they are.</p>
<p><img src="/images/blog/2009/08/Buttons-Sliced-Up.png" alt="Buttons - Sliced Up"/></p>
<p>Right now they&#39;re cut up into 4 different chunk&#39;s and each chunk has 4 states (Selected focused, unselected focused, selected unfocused, unselected unfocused).</p>
<p>So when you download the Android SDK it comes with a set of tools <!-- raw HTML omitted -->/tools/ and we need the draw9patch tool, so launch this from a terminal (something along the lines of /home/matt/Programs/android-sdk-linux_x86-1.5_r3/tools/draw9patch).</p>
<p>You have a new window open up:</p>
<p><img src="/images/blog/2009/08/Screenshot-Draw-9-patch.png" alt="Screenshot-Draw 9-patch"/></p>
<p>Now go to File &gt; Open 9-Patch and open one of your button images. This will load up your image into the draw9patch tool. Now the essence to this tool is simple, on the top side and left side, you draw which pixels can be stretched (or repeated). So draw on the pixels you want to be stretched, this can only be done on the one pixel border that is added to the edge of the image. Once you&#39;ve done this it will show you how it looks when stretched in the right hand side of the tool.</p>
<p><img src="/images/blog/2009/08/Screenshot-Draw-9-patch-1.png" alt="Screenshot-Draw 9-patch-1"/></p>
<p>There you go a fully scaling button, but is anyone wondering what the right hand and bottom border pixels are for yet? Well these are for defining where the content of the button can go - so in this case where our text is allowed to go, this prevents it from extending outside the button.</p>
<p>So click on “Show content” check box and add in your content borders and you&#39;ll see where the content will sit in the button</p>
<p><img src="/images/blog/2009/08/Screenshot-Draw-9-patch-2.png" alt="Screenshot-Draw 9-patch-2"/></p>
<p>One thing to note about 9-patch PNG&#39;s is that they are basically PNG&#39;s but by labelling .9.png files Android expects to find a 1px border of black to define the extra info. So you can use the 9 patch tool for one state of the button and then just use your graphics program to make the rest (Which I personally find a bit quicker). So repeat the process until you have a full range of button states in .9.png format.</p>
<p>Finally we get to stick it into our Android project.</p>
<p>So create a new project or open up your existing project (I find it easiest to manage all of my code in eclipse so I will refer to many things in eclipse but they should be easy instructions to swap over if your coding outside of an IDE).</p>
<p>Now move all your images over to the res/drawable/ folder in your project folder (So go to your eclipse workspace folder, find your project folder, in there you’ll find res/drawable).  Quite often after doing this eclipse won’t realise the new files have been put in the folder so just right click on the project in eclipse and select refresh. So we have our new buttons in the res folder, how do I add them?</p>
<p>Android has a very clever way of defining the states of a button and therefore what image we should show, so in the res/drawable/ folder create a new file and give name it <!-- raw HTML omitted -->.xml. So for me I’ll call it singlebutton.xml.</p>
<p>Now open the new file and select the tab with the file name, instead of viewing the Resources tab.</p>
<p><img src="/images/blog/2009/08/Screenshot-Java-Where-To-Do-res-drawable-SingleButton.xml-Eclipse-Platform-.png" alt="SScreenshot-Java - Where-To-Do-res-drawable-SingleButton.xml - Eclipse Platform"/></p>
<p>Notice how I chose a name with Capitals and errors were caused?? :-P</p>
<p>Now add in the following code, but changing the android:drawable=”@drawable/<!-- raw HTML omitted -->” for your own button names.</p>
<p>Now with every bit of luck you should have everything set up to add your new button. Go to a layout in your res/layout folder and add a button to it. Then click on the button and under it’s properties change the background of it to the name of the xml file you just created (singlebutton) in my case.</p>
<p><img src="/images/blog/2009/08/Screenshot-Java-Where-To-Do-res-layout-main.xml-Eclipse-Platform-.png" alt="Screenshot-Java - Where-To-Do-res-layout-main.xml - Eclipse Platform"/></p>
<p>Now start up your emulator and you should have a button which changes states with you background which stretches depending on the content of the button or width you set.</p>
<p><img src="/images/blog/2009/08/Button-Screenshots.png" alt="Button Screenshots"/></p>
<p>Done! Welcome to the world of customising your app from start to finish. Now this has been quite a bit of effort but the same principles can be applied to other widgets, just have a play.</p>
<p>Anyway for those of you interested check out the StateListDrawable page for more options to use for the button.</p>
<p><a href="http://developer.android.com/reference/android/graphics/drawable/StateListDrawable.html#attr_android:state_selected">http://developer.android.com/reference/android/graphics/drawable/StateListDrawable.html#attr_android:state_selected</a></p>
<p>Any comments about this post or what sort of things I should change about the style of posting please let me know.</p>
<p>Orig. Photo: <a href="https://flic.kr/p/2AcAfi">https://flic.kr/p/2AcAfi</a></p>

</main>
<footer class="c-footer">
  <div class="c-footer__corner">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 135.467 135.467" preserveAspectRatio="none"><path d="M135.467 135.467h-82.55L134.937 0h.53z" fill="#565797"></path><path d="M135.07 0L53.049 135.467H39.688L121.707 0z" fill="#feca72"></path><path d="M121.84 0L39.82 135.467H26.458L108.48 0z" fill="#c4e791"></path><path d="M108.611 0l-82.02 135.467H13.229L95.25 0z" fill="#84acfc"></path><path d="M95.382 0l-82.02 135.467H0L82.02 0z" fill="#ee727a"></path></svg>
  </div>
  <div class="c-footer__content"></div>
</footer>
</div>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-155219449-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-155219449-1');
</script>

</body></html>