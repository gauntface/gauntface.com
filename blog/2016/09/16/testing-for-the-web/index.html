<!DOCTYPE html><html lang="en"><head>
  <title>Testing for the Web</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="Description" content="This is the site description"/>
  <meta name="theme-color" content="#565797"/>
<style>.c-footer{display:flex;flex-direction:row;justify-content:center}.c-footer__content{padding:var(--footer-padding)}.c-footer a{text-decoration:none}</style><style>:root{--body-font-family:"Roboto",sans-serif;--code-font-family:"dm",monospace;--default-font-size:18px;--table-cell-padding:8px;--page-padding:24px;--header-padding:64px;--footer-padding:64px;--inline-code-padding:4px;--pre-padding:4px;--page-max-width:800px;--white:#f5f6fa;--dark-grey:#2f3640}html{height:100%;font-size:18px;font-size:var(--default-font-size)}</style><style>h1{font-weight:400;font-size:2rem}</style><style>a{color:inherit}</style><style>.c-header{color:var(--platnum);padding:var(--header-padding) var(--page-padding);background:var(--dark-grey)}.c-header__logo svg{width:124px;height:124px;margin:auto}.c-header__logo svg path{fill:var(--white)}</style><style>img{max-width:100%;height:auto}</style><style>svg{display:block}</style><style>p{word-wrap:break-word}</style><style>@import url("https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap");body{display:inline;min-height:100%;font-family:var(--body-font-family);background:var(--white);color:var(--dark-grey);margin:0}</style><style>.l-default{display:flex;flex-direction:column;min-height:100%}.l-default__main{max-width:var(--page-max-width);margin:0 auto;flex:1;padding:var(--page-padding)}</style></head><body>
<div class="l-default">
  <header class="c-header">
  <a href="/" class="c-header__logo">
    <svg width="1024" height="1024" viewBox="0 0 1024 1024" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M988 36H36V987H988V36ZM0 0V1023H1024V0H0Z" fill="black"></path>
<path d="M834.787 519.358H767.661V590H746.567V430.039H845.664V447.397H767.661V502.109H834.787V519.358Z" fill="black"></path>
<path d="M574.089 447.397H522.673V590H501.689V447.397H450.383V430.039H574.089V447.397Z" fill="black"></path>
<path d="M834.984 821.062H765.661V877.751H846.19V895H744.567V735.039H845.092V752.397H765.661V803.813H834.984V821.062Z" fill="black"></path>
<path d="M575.23 844.243C573.253 861.162 566.991 874.236 556.444 883.464C545.97 892.62 532.018 897.197 514.586 897.197C495.689 897.197 480.528 890.422 469.103 876.873C457.75 863.323 452.074 845.195 452.074 822.49V807.109C452.074 792.241 454.71 779.167 459.984 767.888C465.331 756.609 472.875 747.966 482.616 741.96C492.357 735.881 503.636 732.842 516.454 732.842C533.446 732.842 547.069 737.603 557.323 747.124C567.577 756.572 573.546 769.683 575.23 786.455H554.027C552.196 773.711 548.204 764.482 542.052 758.77C535.973 753.057 527.44 750.2 516.454 750.2C502.977 750.2 492.394 755.181 484.703 765.142C477.086 775.103 473.277 789.275 473.277 807.659V823.149C473.277 840.508 476.903 854.314 484.154 864.568C491.405 874.822 501.549 879.949 514.586 879.949C526.305 879.949 535.277 877.312 541.502 872.039C547.801 866.692 551.976 857.427 554.027 844.243H575.23Z" fill="black"></path>
<path d="M266.397 853.252H199.38L184.329 895H162.576L223.66 735.039H242.117L303.311 895H281.668L266.397 853.252ZM205.752 835.894H260.135L232.889 761.077L205.752 835.894Z" fill="black"></path>
<path d="M294.004 590H272.8L192.271 466.733V590H171.067V430.039H192.271L273.02 553.855V430.039H294.004V590Z" fill="black"></path>
<path d="M848.177 122.039V230.804C848.104 245.892 843.343 258.233 833.895 267.828C824.52 277.422 811.775 282.806 795.662 283.978L790.059 284.197C772.554 284.197 758.602 279.473 748.201 270.025C737.801 260.577 732.527 247.576 732.381 231.023V122.039H753.255V230.364C753.255 241.937 756.441 250.945 762.813 257.391C769.185 263.763 778.267 266.949 790.059 266.949C801.998 266.949 811.116 263.763 817.415 257.391C823.787 251.019 826.973 242.046 826.973 230.474V122.039H848.177Z" fill="black"></path>
<path d="M545.897 240.252H478.88L463.829 282H442.076L503.16 122.039H521.617L582.811 282H561.168L545.897 240.252ZM485.252 222.894H539.635L512.389 148.077L485.252 222.894Z" fill="black"></path>
<path d="M292.17 261.016C286.75 268.78 279.169 274.603 269.428 278.484C259.76 282.293 248.481 284.197 235.59 284.197C222.553 284.197 210.981 281.158 200.874 275.079C190.766 268.926 182.929 260.21 177.363 248.931C171.87 237.652 169.05 224.578 168.903 209.71V195.757C168.903 171.661 174.506 152.984 185.712 139.727C196.992 126.47 212.812 119.842 233.173 119.842C249.873 119.842 263.312 124.126 273.493 132.696C283.674 141.192 289.899 153.277 292.17 168.951H271.076C267.121 147.784 254.523 137.2 233.283 137.2C219.147 137.2 208.417 142.181 201.093 152.142C193.842 162.029 190.18 176.385 190.107 195.208V208.282C190.107 226.226 194.208 240.508 202.412 251.128C210.615 261.675 221.711 266.949 235.7 266.949C243.61 266.949 250.532 266.07 256.464 264.312C262.397 262.554 267.304 259.588 271.186 255.413V219.488H234.162V202.349H292.17V261.016Z" fill="black"></path>
</svg>

  </a>
</header>
  <main class="l-default__main">
<p><img src="/images/blog/2016/2016-09-16/developer-desk.jpg" alt="Key art for blog post “Testing for the Web”"/></p>
<h1 id="testing-for-the-web">Testing for the Web</h1>
<p>After sitting on this for a while, I&#39;ve come to the conclusion that testing a web app is a <strong>manual job</strong>.</p>
<p>I&#39;ve been working on <a href="https://googlechrome.github.io/selenium-assistant/">selenium-assistant</a> for some time now, trying to make testing on real browsers a little easier.</p>
<p>In the early versions of building the library, supporting Chrome and Firefox was proving it&#39;s worth highlighting service worker differences.</p>
<p>However, the problems I&#39;ve hit as I&#39;ve continued working on this library is making me question whether testing for the web is something browsers / developers really care about.</p>
<h1 id="unstable-ground">Unstable Ground</h1>
<p><img src="https://i.giphy.com/ZeB4HcMpsyDo4.gif" alt="Panda Falling Over"/></p>
<p><a href="https://developers.google.com/web/progressive-web-apps/">Progressive Web Apps</a> are all the rage at the moment, but the APIs they use are brand new, meaning you&#39;d be wise to test across all the major browsers and look at changes in each of those browsers before they hit stable (i.e. what your users see).</p>
<p>The matrix of that gives us Chrome, Firefox, Opera, Safari and Edge and for each one support their stable, beta and unstable releases (if they have them).</p>
<p>Sadly, each of these have “quirks” when it comes to automated testing.</p>
<p>The conclusion I&#39;ve come to is:</p>
<ol>
<li>You can only test on stable and beta if you want reliable continuous integration, not due to browser problems, but because integrations between browsers and selenium-webdriver are flakey. This mean you lose 6 weeks heads up of possible issues and can&#39;t test the latest features.</li>
<li>Chrome and Firefox are the only browsers that can be downloaded and used without human intervention, so only test on those….</li>
</ol>
<p>Below are specifics that have made me reach this conclusion, but feel free to skip to the next section.</p>
<h6 id="chrome">Chrome</h6>
<p>The dev version at the time of writing (Version 54 / 55) didn&#39;t work with Chrome Driver (The middle piece between Chrome the browser and <a href="https://www.npmjs.com/package/selenium-webdriver">selenium-webdriver</a>). Not disastrous, but worrying the two can become out of sync rendering the browser useless for testing.</p>
<h6 id="opera">Opera</h6>
<p>On Linux I can&#39;t find a reliable way to download the latest stable, beta and developer versions (the URL&#39;s on their download page seem to have a unique ID rather than a consistent URL).</p>
<p>On OS X, Opera has an installer which requires human intervention, so again no automation of download and using the browser. However, OS X does have consistent URL&#39;s to get the latest stable, beta and developer versions.</p>
<h6 id="firefox">Firefox</h6>
<p>Firefox recently changed to “Marionette” /  “GeckoDriver”, essentially a brand new driver for Firefox browsers.</p>
<p>With this move came about 3 months of unreliable behaviour from a number of sides (issues with GeckoDriver releases, selenium-webdriver issues and inconsistent behaviour).</p>
<p>It&#39;s getting better, but requires a beta release of selenium-webdriver so still not out of the woods yet.</p>
<h6 id="safari">Safari</h6>
<p>Safari is moving in the right direction. You can test stable and technology preview versions of Safari, but the older versions of Safari need a plugin to be <strong>manually</strong> installed. Newer version require manually <a href="https://webkit.org/blog/6900/webdriver-support-in-safari-10/">configuring developer menus and settings before it will work</a>.</p>
<p>Downloading the Technology Preview version also seems to have require manual intervention with an installer and the URL to download it seems to have a unique ID in it.</p>
<h6 id="edge">Edge</h6>
<p>I&#39;ve always struggled with developing on Windows. I&#39;m hoping the bash shell will make this easier, but last time I tried a few weeks ago, copy and paste was a painful hurdle that was “conveniently” avoided during the <a href="https://msdn.microsoft.com/en-us/commandline/wsl/about">Build release video</a> and I didn&#39;t want to find out what else was going to cause me pain.</p>
<p>Again, I&#39;m not sure if I can automate downloading preview Edge releases because it seems to be through the Windows insider program, which I&#39;m a part of but not really sure how it affects the various programs on my Surface.</p>
<h1 id="desktop-only-is-ok-right">Desktop Only is OK Right?</h1>
<p><img src="https://i.giphy.com/IpKuFZxEC5584.gif" alt="Example Browser Window Being Dragged Bigger and Smaller"/></p>
<p>One of the core reasons I wanted to run selenium tests locally was the hope that I could get them running on mobile devices with the real browsers, not emulators with “fake” browsers.</p>
<p>The closest I could get was using <a href="http://appium.io/">Appium</a> to control the stable version of Chrome on Android. It looks like Safari would also work if I spent some more time on it.</p>
<p>That is two out of 5 browsers and the stable version only.</p>
<p>Arguably this might not be a problem if mobile === desktop in terms of API support. One browser would be enough to test performance on a device.</p>
<p>This isn&#39;t the case though. Browsers are racing to implement new features and these features are landing on mobile first (or in some cases mobile only).</p>
<p>Push on Opera is a good example. Works on mobile while desktop has the API&#39;s, can&#39;t feature detect, but it will fail at the last hurdle with an error, saying it&#39;s not supported.</p>
<h1 id="where-are-we">Where Are We?</h1>
<p>We are in a world where <a href="https://www.doubleclickbygoogle.com/articles/mobile-speed-matters/">sites are slow on mobile</a>, but we can&#39;t load a site up on a mobile device and easily run automated tests.</p>
<p>We are in a world where you can continuously test on any browser as long as that browser can be downloaded and run without a human, in otherwise, on any browser as long as the browser is Chrome or Firefox.</p>
<p>We are in a world where your tests may work today, but tomorrow may bring a new tool change, driver change or browser change that will break you tests.</p>
<h1 id="what-should-change">What Should Change?</h1>
<p>The simple things like allowing a developer to download the latest versions of a browser can go a long way with automating tests. The large issue is making these builds publicly available and installable without human intervention.</p>
<p>Integration tests between a browser and selenium-webdriver would go a long way to help developers keep there tests enabled and running, rather than disabling them. Forseveral months Firefox and Chrome versions have simply been disabled on a range of open source projects because the maintenance / overhead of keeping the tests up and running have been huge.</p>
<p>Testing on mobile needs some major attention. Not being able to load a site up on a device and measure the time taken to load assets and for JavaScript to bootstrap an app is astonishing.</p>
<h1 id="testing-for-your-projects">Testing for Your Projects</h1>
<p>Given that you can&#39;t test on mobile browsers locally, I&#39;d strongly recommend using services like Saucelabs or Browserstack to test on desktop browser. <a href="https://philipwalton.com/articles/learning-how-to-set-up-automated-cross-browser-javascript-unit-testing/">See Philip Walton&#39;s post for more info</a>.</p>
<p>If you need finer grained control / want to run tests locally then <a href="https://googlechrome.github.io/selenium-assistant/">selenium-assistant</a> may be worth a look, but I cannot promise it&#39;ll be working as reliably as I&#39;d like.</p>
<h1 id="closing-note">Closing Note</h1>
<p>I&#39;m stunned that web development still hasn&#39;t moved to mobile devices.</p>
<p>Opening a browser, typing a URL and opening DevTools is still far easier than getting the same URL up on a mobile device.</p>
<p>When I built native apps, I developed on mobile devices, rarely on an emulator. The advantage of this is that testing on a high end phone and a low end phone was the same amount of effort and I could quickly see the performance of the devices. I felt what the end user and target audience felt.</p>
<p>On the web, you build on desktop, wiggle the browser around or emulate screen size. What isn&#39;t the same as testing on the actual devices your users have.</p>
<p>CPU throttling is meant to help with performance, but it still feels like a false sense of security. Why is testing on mobile not a higher priority for browsers?</p>
<p><img src="https://i.giphy.com/Ll2fajzk9DgaY.gif" alt="Famous People Shrugging"/></p>

</main>
<footer class="c-footer">
  <div class="c-footer__content">
    <a href="://twiter.com/gauntface">Twitter</a> | <a href="://github.com/gauntface">GitHub</a> | <a href="://www.linkedin.com/in/mattgaunt/">LinkedIn</a>
  </div>
</footer>
</div>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-155219449-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-155219449-1');
</script>

</body></html>